// generated by Diff/AST Java Unparser
package org.deeplearning4j.nn.modelimport.keras;
import org.apache.commons.io.IOUtils;
import lombok.extern.slf4j.Slf4j;
import org.deeplearning4j.nn.conf.ComputationGraphConfiguration;
import org.deeplearning4j.nn.conf.MultiLayerConfiguration;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
@Deprecated
@Slf4j
public class ModelConfiguration {
  private ModelConfiguration() {}
  public static MultiLayerConfiguration
  importSequentialModelConfigFromInputStream(InputStream inputStream)
      throws IOException {
    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
    IOUtils.copy(inputStream, byteArrayOutputStream);
    String configJson = new String(byteArrayOutputStream.toByteArray());
    return importSequentialModelConfig(configJson);
  }
  @Deprecated
  public static MultiLayerConfiguration
  importSequentialModelConfigFromFile(String modelJsonFilename)
      throws IOException, InvalidKerasConfigurationException,
             UnsupportedKerasConfigurationException {
    return KerasModelImport.importKerasSequentialConfiguration(
        modelJsonFilename);
  }
  public static ComputationGraphConfiguration
  importFunctionalApiConfigFromInputStream(InputStream inputStream)
      throws IOException {
    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
    IOUtils.copy(inputStream, byteArrayOutputStream);
    String configJson = new String(byteArrayOutputStream.toByteArray());
    return importFunctionalApiConfig(configJson);
  }
  @Deprecated
  public static ComputationGraphConfiguration
  importFunctionalApiConfigFromFile(String modelJsonFilename)
      throws IOException, InvalidKerasConfigurationException,
             UnsupportedKerasConfigurationException {
    return KerasModelImport.importKerasModelConfiguration(modelJsonFilename);
  }
  public @Deprecated
  static MultiLayerConfiguration importSequentialModelConfig(String modelJson)
      throws IOException, InvalidKerasConfigurationException,
             UnsupportedKerasConfigurationException {
    KerasSequentialModel kerasModel = new KerasSequentialModel.ModelBuilder()
                                          .modelJson(modelJson)
                                          .buildSequential();
    return kerasModel.getMultiLayerConfiguration();
  }
  @Deprecated
  public static ComputationGraphConfiguration
  importFunctionalApiConfig(String modelJson)
      throws IOException, InvalidKerasConfigurationException,
             UnsupportedKerasConfigurationException {
    KerasModel kerasModel =
        new KerasModel.ModelBuilder().modelJson(modelJson).buildSequential();
    return kerasModel.getComputationGraphConfiguration();
  }
}