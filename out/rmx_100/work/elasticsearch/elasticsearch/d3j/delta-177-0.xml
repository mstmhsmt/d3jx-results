<?xml version="1.0" encoding="UTF-8"?><xdd:delta xmlns:xdd="http://codinuum.com/diffts/delta/" xdd:reversible="false" xdd:normalized="false" xdd:lang="java" xdd:digest="MD5_2b9eb42ef39d9affb2d77b5675323a44" xdd:digest_="MD5_734b042bc700768c0341b2c38c4acde8"><xdd:insert xdd:stid="0" xdd:path="2/0/1/39/1/0/1/2_1"><Parameter name="globalCheckpointSyncer" dims="0" va="false"><ReferenceType name="Consumer"><TypeArguments nth="1" name="java.util.function.Consumer"><ReferenceType name="ShardId"/></TypeArguments></ReferenceType></Parameter></xdd:insert><xdd:insert xdd:stid="1" xdd:path="2/0/1/37/1/4_1"><MethodDeclaration name="updateAllocationIdsFromMaster" ___signature="(LSet;LSet;)V"><Void/><Parameters name="(LSet;LSet;)V"><Parameter name="activeIds" dims="0" va="false"><ReferenceType name="Set"><TypeArguments nth="1" name="java.util.Set"><ReferenceType name="String"/></TypeArguments></ReferenceType></Parameter><Parameter name="initializingIds" dims="0" va="false"><ReferenceType name="Set"><TypeArguments nth="1" name="java.util.Set"><ReferenceType name="String"/></TypeArguments></ReferenceType></Parameter></Parameters></MethodDeclaration></xdd:insert><xdd:insert xdd:stid="2" xdd:path="2/0/1/29/3/2/0/0_1"><IfStatement><PrimaryMethodInvocation name="primary"><Name name="shardRouting"/><Arguments/></PrimaryMethodInvocation><Block><LocalVariableDeclarationStatement name="activeIds[0"><ReferenceType name="Set"><TypeArguments nth="1" name="java.util.Set"><ReferenceType name="String"/></TypeArguments></ReferenceType><VariableDeclarator name="activeIds" dims="0"><PrimaryMethodInvocation name="collect"><PrimaryMethodInvocation name="map"><PrimaryMethodInvocation name="stream"><PrimaryMethodInvocation name="activeShards"><Name name="shardRoutingTable"/><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments><Lambda><InferredFormalParameter name="sr"/><PrimaryMethodInvocation name="getId"><PrimaryMethodInvocation name="allocationId"><Name name="sr"/><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></Lambda></Arguments></PrimaryMethodInvocation><Arguments><TypeMethodInvocation name="Collectors" ident="toSet"><ClassType name="Collectors"/><Arguments/></TypeMethodInvocation></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><LocalVariableDeclarationStatement name="initializingIds[0"><ReferenceType name="Set"><TypeArguments nth="1" name="java.util.Set"><ReferenceType name="String"/></TypeArguments></ReferenceType><VariableDeclarator name="initializingIds" dims="0"><PrimaryMethodInvocation name="collect"><PrimaryMethodInvocation name="map"><PrimaryMethodInvocation name="stream"><PrimaryMethodInvocation name="getAllInitializingShards"><Name name="shardRoutingTable"/><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments><Lambda><InferredFormalParameter name="sr"/><PrimaryMethodInvocation name="getId"><PrimaryMethodInvocation name="allocationId"><Name name="sr"/><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></Lambda></Arguments></PrimaryMethodInvocation><Arguments><TypeMethodInvocation name="Collectors" ident="toSet"><ClassType name="Collectors"/><Arguments/></TypeMethodInvocation></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><PrimaryMethodInvocationStatement name="updateAllocationIdsFromMaster"><Name name="shard"/><Arguments><Name name="activeIds"/><Name name="initializingIds"/></Arguments></PrimaryMethodInvocationStatement></Block></IfStatement></xdd:insert><xdd:insert xdd:stid="3" xdd:path="2/0/1/29/2/2_1"><Parameter name="shardRoutingTable" dims="0" va="false"><ReferenceType name="IndexShardRoutingTable"/></Parameter></xdd:insert><xdd:insert xdd:stid="4" xdd:path="2/0/1/27/3/4/2/1/1/3/2/0/0/0/2_1"><PrimaryMethodInvocation name="shardRoutingTable"><Name name="routingTable"/><Arguments><Name name="shardId"/></Arguments></PrimaryMethodInvocation></xdd:insert><xdd:insert xdd:stid="5" xdd:path="2/0/1/25/3/4/2/4/0/0/1/1/2_1"><FieldAccess name="globalCheckpointSyncer"/></xdd:insert><xdd:insert xdd:stid="6" xdd:path="2/0/1/15/1/1_1"><AssignStatement tid=""><FieldAccess name="globalCheckpointSyncer"><This/></FieldAccess><Name name="globalCheckpointSyncer"/></AssignStatement></xdd:insert><xdd:insert xdd:stid="7" xdd:path="2/0/1/15/0/12_1"><Parameter name="globalCheckpointSyncer" dims="0" va="false"><ReferenceType name="Consumer"><TypeArguments nth="1" name="java.util.function.Consumer"><ReferenceType name="ShardId"/></TypeArguments></ReferenceType></Parameter></xdd:insert><xdd:insert xdd:stid="8" xdd:path="2/0/1/14/2/0/0/12_1"><NameMethodReference name="globalCheckpointSyncAction" ident="updateCheckpointForShard"/></xdd:insert><xdd:insert xdd:stid="9" xdd:path="2/0/1/14/1/12_1"><Parameter name="globalCheckpointSyncAction" dims="0" va="false"><ReferenceType name="GlobalCheckpointSyncAction"/></Parameter></xdd:insert><xdd:insert xdd:stid="10" xdd:path="2/0/1/6_1"><FieldDeclaration name="globalCheckpointSyncer[0"><Modifiers><Private/><Final/></Modifiers><ReferenceType name="Consumer"><TypeArguments nth="1" name="java.util.function.Consumer"><ReferenceType name="ShardId"/></TypeArguments></ReferenceType><VariableDeclarator name="globalCheckpointSyncer" dims="0"/></FieldDeclaration></xdd:insert><xdd:insert xdd:stid="11" xdd:path="1/57_2"><SingleTypeImportDeclaration name="java.util.stream.Collectors"/></xdd:insert><xdd:insert xdd:stid="12" xdd:path="1/57_1"><SingleTypeImportDeclaration name="java.util.function.Consumer"/></xdd:insert><xdd:insert xdd:stid="13" xdd:path="1/29_1"><SingleTypeImportDeclaration name="org.elasticsearch.index.seqno.GlobalCheckpointSyncAction"/></xdd:insert><xdd:insert xdd:stid="14" xdd:path="1/8_1"><SingleTypeImportDeclaration name="org.elasticsearch.cluster.routing.IndexShardRoutingTable"/></xdd:insert></xdd:delta>