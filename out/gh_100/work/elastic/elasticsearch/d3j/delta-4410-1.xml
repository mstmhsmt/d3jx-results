<?xml version="1.0" encoding="UTF-8"?><xdd:delta xmlns:xdd="http://codinuum.com/diffts/delta/" xdd:reversible="false" xdd:normalized="false" xdd:lang="java" xdd:digest="MD5_70cbd80adb7228caaf5efa339fdead78" xdd:digest_="MD5_c747aab6ba9b4928fd46cbbb2860dadb"><xdd:change_attr xdd:path="1/7" xdd:attr="name" xdd:new_value="org.elasticsearch.discovery.DiscoverySettings"/><xdd:change_attr xdd:path="2/0/1/0/4/9/0/0/2/0/3/1/0/0/1/0/0" xdd:attr="name" xdd:new_value="DiscoverySettings"/><xdd:change_attr xdd:path="2/0/1/0/4/9/0/0/2/0/3/1/0/0/1/0" xdd:attr="name" xdd:new_value="DiscoverySettings.NO_MASTER_BLOCK_ID"/><xdd:change xdd:path="2/0/1/0/4/24/0/0"><False/></xdd:change><xdd:change xdd:path="2/0/1/0/4/26/0/0"><False/></xdd:change><xdd:change xdd:path="2/0/1/0/4/32/0/0"><False/></xdd:change><xdd:insert xdd:stid="0" xdd:path="2/0/1/2_1"><MethodDeclaration name="testNoMasterActions_writeMasterBlock" ___signature="()V"><Modifiers><MarkerAnnotation name="Test"/><Public/></Modifiers><Void/><Parameters name="()V"/><Throws name="testNoMasterActions_writeMasterBlock"><ReferenceType name="Exception"/></Throws><MethodBody><LocalVariableDeclarationStatement name="settings[0"><ReferenceType name="Settings"/><VariableDeclarator name="settings" dims="0"><PrimaryMethodInvocation name="build"><PrimaryMethodInvocation name="put"><PrimaryMethodInvocation name="put"><PrimaryMethodInvocation name="put"><PrimaryMethodInvocation name="put"><PrimaryMethodInvocation name="put"><PrimaryMethodInvocation name="put"><SimpleMethodInvocation name="settingsBuilder"><Arguments/></SimpleMethodInvocation><Arguments><StringLiteral value="ZGlzY292ZXJ5LnR5cGU="/><StringLiteral value="emVu"/></Arguments></PrimaryMethodInvocation><Arguments><StringLiteral value="YWN0aW9uLmF1dG9fY3JlYXRlX2luZGV4"/><False/></Arguments></PrimaryMethodInvocation><Arguments><StringLiteral value="ZGlzY292ZXJ5Lnplbi5taW5pbXVtX21hc3Rlcl9ub2Rlcw=="/><IntegerLiteral value="2"/></Arguments></PrimaryMethodInvocation><Arguments><StringLiteral value="ZGlzY292ZXJ5Lnplbi5waW5nX3RpbWVvdXQ="/><StringLiteral value="MjAwbXM="/></Arguments></PrimaryMethodInvocation><Arguments><StringLiteral value="ZGlzY292ZXJ5LmluaXRpYWxfc3RhdGVfdGltZW91dA=="/><StringLiteral value="NTAwbXM="/></Arguments></PrimaryMethodInvocation><Arguments><Name name="DiscoverySettings.NO_MASTER_BLOCK"><Name name="DiscoverySettings"/></Name><StringLiteral value="d3JpdGU="/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><PrimaryMethodInvocationStatement name="startNode"><SimpleMethodInvocation name="internalCluster"><Arguments/></SimpleMethodInvocation><Arguments><Name name="settings"/></Arguments></PrimaryMethodInvocationStatement><PrimaryMethodInvocationStatement name="startNode"><SimpleMethodInvocation name="internalCluster"><Arguments/></SimpleMethodInvocation><Arguments><Name name="settings"/></Arguments></PrimaryMethodInvocationStatement><PrimaryMethodInvocationStatement name="get"><PrimaryMethodInvocation name="setSettings"><SimpleMethodInvocation name="prepareCreate"><Arguments><StringLiteral value="dGVzdDE="/></Arguments></SimpleMethodInvocation><Arguments><Name name="IndexMetaData.SETTING_NUMBER_OF_SHARDS"><Name name="IndexMetaData"/></Name><IntegerLiteral value="1"/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocationStatement><PrimaryMethodInvocationStatement name="get"><PrimaryMethodInvocation name="setSettings"><SimpleMethodInvocation name="prepareCreate"><Arguments><StringLiteral value="dGVzdDI="/></Arguments></SimpleMethodInvocation><Arguments><Name name="IndexMetaData.SETTING_NUMBER_OF_SHARDS"><Name name="IndexMetaData"/></Name><IntegerLiteral value="2"/><Name name="IndexMetaData.SETTING_NUMBER_OF_REPLICAS"><Name name="IndexMetaData"/></Name><IntegerLiteral value="0"/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocationStatement><PrimaryMethodInvocationStatement name="get"><PrimaryMethodInvocation name="setWaitForGreenStatus"><PrimaryMethodInvocation name="prepareHealth"><PrimaryMethodInvocation name="cluster"><PrimaryMethodInvocation name="admin"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments><StringLiteral value="X2FsbA=="/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocationStatement><PrimaryMethodInvocationStatement name="get"><PrimaryMethodInvocation name="setSource"><PrimaryMethodInvocation name="prepareIndex"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments><StringLiteral value="dGVzdDE="/><StringLiteral value="dHlwZTE="/><StringLiteral value="MQ=="/></Arguments></PrimaryMethodInvocation><Arguments><StringLiteral value="ZmllbGQ="/><StringLiteral value="dmFsdWUx"/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocationStatement><PrimaryMethodInvocationStatement name="get"><PrimaryMethodInvocation name="setSource"><PrimaryMethodInvocation name="prepareIndex"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments><StringLiteral value="dGVzdDI="/><StringLiteral value="dHlwZTE="/><StringLiteral value="MQ=="/></Arguments></PrimaryMethodInvocation><Arguments><StringLiteral value="ZmllbGQ="/><StringLiteral value="dmFsdWUx"/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocationStatement><SimpleMethodInvocationStatement name="refresh"><Arguments/></SimpleMethodInvocationStatement><SimpleMethodInvocationStatement name="ensureSearchable"><Arguments><StringLiteral value="dGVzdDE="/><StringLiteral value="dGVzdDI="/></Arguments></SimpleMethodInvocationStatement><LocalVariableDeclarationStatement name="clusterState[0"><ReferenceType name="ClusterStateResponse"/><VariableDeclarator name="clusterState" dims="0"><PrimaryMethodInvocation name="get"><PrimaryMethodInvocation name="prepareState"><PrimaryMethodInvocation name="cluster"><PrimaryMethodInvocation name="admin"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><PrimaryMethodInvocationStatement name="info"><FieldAccess name="logger"/><Arguments><Add><StringLiteral value="Q2x1c3RlciBzdGF0ZTpcbg=="/><PrimaryMethodInvocation name="prettyPrint"><PrimaryMethodInvocation name="getState"><Name name="clusterState"/><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></Add></Arguments></PrimaryMethodInvocationStatement><PrimaryMethodInvocationStatement name="stopRandomDataNode"><SimpleMethodInvocation name="internalCluster"><Arguments/></SimpleMethodInvocation><Arguments/></PrimaryMethodInvocationStatement><SimpleMethodInvocationStatement name="assertThat"><Arguments><SimpleMethodInvocation name="awaitBusy"><Arguments><StandardInstanceCreation name="Predicate&lt;Object&gt;"><ReferenceType name="Predicate"><TypeArguments nth="1" name="com.google.common.base.Predicate"><ReferenceType name="Object"/></TypeArguments></ReferenceType><Arguments/><ClassBody name="Predicate&lt;java.lang.Object&gt;"><MethodDeclaration name="apply" ___signature="(LObject;)Z"><Modifiers><Public/></Modifiers><BooleanType/><Parameters name="(LObject;)Z"><Parameter name="o" dims="0" va="false"><ReferenceType name="Object"/></Parameter></Parameters><MethodBody><LocalVariableDeclarationStatement name="state[0"><ReferenceType name="ClusterState"/><VariableDeclarator name="state" dims="0"><PrimaryMethodInvocation name="getState"><PrimaryMethodInvocation name="get"><PrimaryMethodInvocation name="setLocal"><PrimaryMethodInvocation name="prepareState"><PrimaryMethodInvocation name="cluster"><PrimaryMethodInvocation name="admin"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments><True/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><ReturnStatement><PrimaryMethodInvocation name="hasGlobalBlock"><PrimaryMethodInvocation name="blocks"><Name name="state"/><Arguments/></PrimaryMethodInvocation><Arguments><Name name="DiscoverySettings.NO_MASTER_BLOCK_ID"><Name name="DiscoverySettings"/></Name></Arguments></PrimaryMethodInvocation></ReturnStatement></MethodBody></MethodDeclaration></ClassBody></StandardInstanceCreation></Arguments></SimpleMethodInvocation><SimpleMethodInvocation name="equalTo"><Arguments><True/></Arguments></SimpleMethodInvocation></Arguments></SimpleMethodInvocationStatement><LocalVariableDeclarationStatement name="getResponse[0"><ReferenceType name="GetResponse"/><VariableDeclarator name="getResponse" dims="0"><PrimaryMethodInvocation name="get"><PrimaryMethodInvocation name="prepareGet"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments><StringLiteral value="dGVzdDE="/><StringLiteral value="dHlwZTE="/><StringLiteral value="MQ=="/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><SimpleMethodInvocationStatement name="assertExists"><Arguments><Name name="getResponse"/></Arguments></SimpleMethodInvocationStatement><LocalVariableDeclarationStatement name="countResponse[0"><ReferenceType name="CountResponse"/><VariableDeclarator name="countResponse" dims="0"><PrimaryMethodInvocation name="get"><PrimaryMethodInvocation name="prepareCount"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments><StringLiteral value="dGVzdDE="/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><SimpleMethodInvocationStatement name="assertHitCount"><Arguments><Name name="countResponse"/><IntegerLiteral value="1l"/></Arguments></SimpleMethodInvocationStatement><LocalVariableDeclarationStatement name="searchResponse[0"><ReferenceType name="SearchResponse"/><VariableDeclarator name="searchResponse" dims="0"><PrimaryMethodInvocation name="get"><PrimaryMethodInvocation name="prepareSearch"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments><StringLiteral value="dGVzdDE="/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><SimpleMethodInvocationStatement name="assertHitCount"><Arguments><Name name="searchResponse"/><IntegerLiteral value="1l"/></Arguments></SimpleMethodInvocationStatement><AssignStatement tid=""><Name name="countResponse"/><PrimaryMethodInvocation name="get"><PrimaryMethodInvocation name="prepareCount"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments><StringLiteral value="dGVzdDI="/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></AssignStatement><SimpleMethodInvocationStatement name="assertThat"><Arguments><PrimaryMethodInvocation name="getTotalShards"><Name name="countResponse"/><Arguments/></PrimaryMethodInvocation><SimpleMethodInvocation name="equalTo"><Arguments><IntegerLiteral value="2"/></Arguments></SimpleMethodInvocation></Arguments></SimpleMethodInvocationStatement><SimpleMethodInvocationStatement name="assertThat"><Arguments><PrimaryMethodInvocation name="getSuccessfulShards"><Name name="countResponse"/><Arguments/></PrimaryMethodInvocation><SimpleMethodInvocation name="equalTo"><Arguments><IntegerLiteral value="1"/></Arguments></SimpleMethodInvocation></Arguments></SimpleMethodInvocationStatement><LocalVariableDeclarationStatement name="timeout[0"><ReferenceType name="TimeValue"/><VariableDeclarator name="timeout" dims="0"><TypeMethodInvocation name="TimeValue" ident="timeValueMillis"><ClassType name="TimeValue"/><Arguments><IntegerLiteral value="200"/></Arguments></TypeMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><LocalVariableDeclarationStatement name="now[0"><LongType/><VariableDeclarator name="now" dims="0"><TypeMethodInvocation name="System" ident="currentTimeMillis"><ClassType name="System"/><Arguments/></TypeMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><TryStatement><Block><PrimaryMethodInvocationStatement name="get"><PrimaryMethodInvocation name="setTimeout"><PrimaryMethodInvocation name="setDoc"><PrimaryMethodInvocation name="prepareUpdate"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments><StringLiteral value="dGVzdDE="/><StringLiteral value="dHlwZTE="/><StringLiteral value="MQ=="/></Arguments></PrimaryMethodInvocation><Arguments><StringLiteral value="ZmllbGQ="/><StringLiteral value="dmFsdWUy"/></Arguments></PrimaryMethodInvocation><Arguments><Name name="timeout"/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocationStatement><SimpleMethodInvocationStatement name="fail"><Arguments><StringLiteral value="RXhwZWN0ZWQgQ2x1c3RlckJsb2NrRXhjZXB0aW9u"/></Arguments></SimpleMethodInvocationStatement></Block><CatchClause tid="3cc8769fed1b1d476fe510ae8aa5ea77" __tid="CatchParameter(,0)"><CatchParameter name="e" dims="0"><ReferenceType name="ClusterBlockException"/></CatchParameter><Block><SimpleMethodInvocationStatement name="assertThat"><Arguments><Subt><TypeMethodInvocation name="System" ident="currentTimeMillis"><ClassType name="System"/><Arguments/></TypeMethodInvocation><Name name="now"/></Subt><SimpleMethodInvocation name="greaterThan"><Arguments><Subt><PrimaryMethodInvocation name="millis"><Name name="timeout"/><Arguments/></PrimaryMethodInvocation><IntegerLiteral value="50"/></Subt></Arguments></SimpleMethodInvocation></Arguments></SimpleMethodInvocationStatement><SimpleMethodInvocationStatement name="assertThat"><Arguments><PrimaryMethodInvocation name="status"><Name name="e"/><Arguments/></PrimaryMethodInvocation><SimpleMethodInvocation name="equalTo"><Arguments><Name name="RestStatus.SERVICE_UNAVAILABLE"><Name name="RestStatus"/></Name></Arguments></SimpleMethodInvocation></Arguments></SimpleMethodInvocationStatement></Block></CatchClause></TryStatement><AssignStatement tid=""><Name name="now"/><TypeMethodInvocation name="System" ident="currentTimeMillis"><ClassType name="System"/><Arguments/></TypeMethodInvocation></AssignStatement><TryStatement><Block><PrimaryMethodInvocationStatement name="get"><PrimaryMethodInvocation name="setTimeout"><PrimaryMethodInvocation name="setSource"><PrimaryMethodInvocation name="prepareIndex"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments><StringLiteral value="dGVzdDE="/><StringLiteral value="dHlwZTE="/><StringLiteral value="MQ=="/></Arguments></PrimaryMethodInvocation><Arguments><PrimaryMethodInvocation name="endObject"><PrimaryMethodInvocation name="startObject"><TypeMethodInvocation name="XContentFactory" ident="jsonBuilder"><ClassType name="XContentFactory"/><Arguments/></TypeMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></Arguments></PrimaryMethodInvocation><Arguments><Name name="timeout"/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocationStatement><SimpleMethodInvocationStatement name="fail"><Arguments><StringLiteral value="RXhwZWN0ZWQgQ2x1c3RlckJsb2NrRXhjZXB0aW9u"/></Arguments></SimpleMethodInvocationStatement></Block><CatchClause tid="3cc8769fed1b1d476fe510ae8aa5ea77" __tid="CatchParameter(,0)"><CatchParameter name="e" dims="0"><ReferenceType name="ClusterBlockException"/></CatchParameter><Block><SimpleMethodInvocationStatement name="assertThat"><Arguments><Subt><TypeMethodInvocation name="System" ident="currentTimeMillis"><ClassType name="System"/><Arguments/></TypeMethodInvocation><Name name="now"/></Subt><SimpleMethodInvocation name="greaterThan"><Arguments><Subt><PrimaryMethodInvocation name="millis"><Name name="timeout"/><Arguments/></PrimaryMethodInvocation><IntegerLiteral value="50"/></Subt></Arguments></SimpleMethodInvocation></Arguments></SimpleMethodInvocationStatement><SimpleMethodInvocationStatement name="assertThat"><Arguments><PrimaryMethodInvocation name="status"><Name name="e"/><Arguments/></PrimaryMethodInvocation><SimpleMethodInvocation name="equalTo"><Arguments><Name name="RestStatus.SERVICE_UNAVAILABLE"><Name name="RestStatus"/></Name></Arguments></SimpleMethodInvocation></Arguments></SimpleMethodInvocationStatement></Block></CatchClause></TryStatement><PrimaryMethodInvocationStatement name="startNode"><SimpleMethodInvocation name="internalCluster"><Arguments/></SimpleMethodInvocation><Arguments><Name name="settings"/></Arguments></PrimaryMethodInvocationStatement><PrimaryMethodInvocationStatement name="get"><PrimaryMethodInvocation name="setWaitForNodes"><PrimaryMethodInvocation name="setWaitForGreenStatus"><PrimaryMethodInvocation name="prepareHealth"><PrimaryMethodInvocation name="cluster"><PrimaryMethodInvocation name="admin"><SimpleMethodInvocation name="client"><Arguments/></SimpleMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation><Arguments><StringLiteral value="Mg=="/></Arguments></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocationStatement></MethodBody></MethodDeclaration></xdd:insert><xdd:insert xdd:stid="1" xdd:path="2/0/1/0/4/2/1/0/0" xdd:boundary="0_-1"><PrimaryMethodInvocation name="put"><Arguments><Name name="DiscoverySettings.NO_MASTER_BLOCK"><Name name="DiscoverySettings"/></Name><StringLiteral value="YWxs"/></Arguments></PrimaryMethodInvocation></xdd:insert><xdd:insert xdd:stid="2" xdd:path="1/17_2"><SingleStaticImportDeclaration name="org.elasticsearch.test.hamcrest.ElasticsearchAssertions" ident="assertHitCount"/></xdd:insert><xdd:insert xdd:stid="3" xdd:path="1/17_1"><SingleStaticImportDeclaration name="org.elasticsearch.test.hamcrest.ElasticsearchAssertions" ident="assertExists"/></xdd:insert><xdd:insert xdd:stid="4" xdd:path="1/3_1"><SingleTypeImportDeclaration name="org.elasticsearch.cluster.metadata.IndexMetaData"/></xdd:insert><xdd:insert xdd:stid="5" xdd:path="1/2_1"><SingleTypeImportDeclaration name="org.elasticsearch.action.search.SearchResponse"/></xdd:insert><xdd:insert xdd:stid="6" xdd:path="1/1_2"><SingleTypeImportDeclaration name="org.elasticsearch.action.get.GetResponse"/></xdd:insert><xdd:insert xdd:stid="7" xdd:path="1/1_1"><SingleTypeImportDeclaration name="org.elasticsearch.action.count.CountResponse"/></xdd:insert><xdd:insert xdd:stid="8" xdd:path="1/0_2"><SingleTypeImportDeclaration name="org.elasticsearch.action.admin.cluster.state.ClusterStateResponse"/></xdd:insert><xdd:insert xdd:stid="9" xdd:path="1/0_1"><SingleTypeImportDeclaration name="com.google.common.base.Predicate"/></xdd:insert></xdd:delta>