<?xml version="1.0" encoding="UTF-8"?><xdd:delta xmlns:xdd="http://codinuum.com/diffts/delta/" xdd:reversible="false" xdd:normalized="false" xdd:lang="java" xdd:digest="MD5_cbf709e8fdfda630b9aa4f09fa529c1d" xdd:digest_="MD5_00a039ef374389efab4f01dcc0a0353c"><xdd:insert xdd:stid="3" xdd:path="2/0/1/8_1"><MethodDeclaration name="updateEventExtendedMetadata" ___signature="(LEvent;LDublinCoreCatalog;LMediaPackageElementFlavor;)LEvent;"><Modifiers><Public/><Static/></Modifiers><ReferenceType name="Event"/><Parameters name="(LEvent;LDublinCoreCatalog;LMediaPackageElementFlavor;)LEvent;"><Parameter name="event" dims="0" va="false"><ReferenceType name="Event"/></Parameter><Parameter name="dc" dims="0" va="false"><ReferenceType name="DublinCoreCatalog"/></Parameter><Parameter name="flavor" dims="0" va="false"><ReferenceType name="MediaPackageElementFlavor"/></Parameter></Parameters><MethodBody><LocalVariableDeclarationStatement name="map[0"><ReferenceType name="Map"><TypeArguments nth="1" name="java.util.Map"><ReferenceType name="String"/></TypeArguments></ReferenceType><VariableDeclarator name="map" dims="0"><StandardInstanceCreation name="HashMap"><ReferenceType name="HashMap"/><Arguments/></StandardInstanceCreation></VariableDeclarator></LocalVariableDeclarationStatement><LocalVariableDeclarationStatement name="eNames[0"><ReferenceType name="Set"><TypeArguments nth="1" name="java.util.Set"><ReferenceType name="EName"/></TypeArguments></ReferenceType><VariableDeclarator name="eNames" dims="0"><PrimaryMethodInvocation name="getProperties"><Name name="dc"/><Arguments/></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><EnhancedForStatement><LocalVariableDeclaration name="eName[0"><ReferenceType name="EName"/><VariableDeclarator name="eName" dims="0"/></LocalVariableDeclaration><Name name="eNames"/><Block><LocalVariableDeclarationStatement name="name[0"><ReferenceType name="String"/><VariableDeclarator name="name" dims="0"><PrimaryMethodInvocation name="getLocalName"><Name name="eName"/><Arguments/></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><LocalVariableDeclarationStatement name="values[0"><ReferenceType name="List"><TypeArguments nth="1" name="java.util.List"><ReferenceType name="String"/></TypeArguments></ReferenceType><VariableDeclarator name="values" dims="0"><PrimaryMethodInvocation name="get"><Name name="dc"/><Arguments><Name name="eName"/><Name name="DublinCore.LANGUAGE_ANY"><Name name="DublinCore"/></Name></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><PrimaryMethodInvocationStatement name="put"><Name name="map"/><Arguments><Name name="name"/><Name name="values"/></Arguments></PrimaryMethodInvocationStatement></Block></EnhancedForStatement><PrimaryMethodInvocationStatement name="setExtendedMetadata"><Name name="event"/><Arguments><PrimaryMethodInvocation name="toString"><Name name="flavor"/><Arguments/></PrimaryMethodInvocation><Name name="map"/></Arguments></PrimaryMethodInvocationStatement><ReturnStatement><Name name="event"/></ReturnStatement></MethodBody></MethodDeclaration></xdd:insert><xdd:insert xdd:stid="6" xdd:path="2/0/1/7_1"><MethodDeclaration name="addExtendedMetadata" ___signature="(LSearchMetadataCollection;LMap;)V"><Modifiers><Private/><Static/></Modifiers><Void/><Parameters name="(LSearchMetadataCollection;LMap;)V"><Parameter name="doc" dims="0" va="false"><ReferenceType name="SearchMetadataCollection"/></Parameter><Parameter name="extendedMetadata" dims="0" va="false"><ReferenceType name="Map"><TypeArguments nth="1" name="java.util.Map"><ReferenceType name="String"/><ReferenceType name="Map"><TypeArguments nth="1" name="java.util.Map"><ReferenceType name="String"/><ReferenceType name="List"><TypeArguments nth="1" name="java.util.List"><ReferenceType name="String"/></TypeArguments></ReferenceType></TypeArguments></ReferenceType></TypeArguments></ReferenceType></Parameter></Parameters><MethodBody><EnhancedForStatement><LocalVariableDeclaration name="type[0"><ReferenceType name="String"/><VariableDeclarator name="type" dims="0"/></LocalVariableDeclaration><PrimaryMethodInvocation name="keySet"><Name name="extendedMetadata"/><Arguments/></PrimaryMethodInvocation><Block><LocalVariableDeclarationStatement name="extendedMetadataByType[0"><ReferenceType name="Map"><TypeArguments nth="1" name="java.util.Map"><ReferenceType name="String"/><ReferenceType name="List"><TypeArguments nth="1" name="java.util.List"><ReferenceType name="String"/></TypeArguments></ReferenceType></TypeArguments></ReferenceType><VariableDeclarator name="extendedMetadataByType" dims="0"><PrimaryMethodInvocation name="get"><Name name="extendedMetadata"/><Arguments><Name name="type"/></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><EnhancedForStatement><LocalVariableDeclaration name="name[0"><ReferenceType name="String"/><VariableDeclarator name="name" dims="0"/></LocalVariableDeclaration><PrimaryMethodInvocation name="keySet"><Name name="extendedMetadataByType"/><Arguments/></PrimaryMethodInvocation><Block><LocalVariableDeclarationStatement name="values[0"><ReferenceType name="List"><TypeArguments nth="1" name="java.util.List"><ReferenceType name="String"/></TypeArguments></ReferenceType><VariableDeclarator name="values" dims="0"><PrimaryMethodInvocation name="get"><Name name="extendedMetadataByType"/><Arguments><Name name="name"/></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><LocalVariableDeclarationStatement name="fieldName[0"><ReferenceType name="String"/><VariableDeclarator name="fieldName" dims="0"><PrimaryMethodInvocation name="concat"><Name name="SeriesIndexSchema.EXTENDED_METADATA_PREFIX"><Name name="SeriesIndexSchema"/></Name><Arguments><Add><Add><Name name="type"/><StringLiteral value="Xw=="/></Add><Name name="name"/></Add></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><PrimaryMethodInvocationStatement name="addField"><Name name="doc"/><Arguments><Name name="fieldName"/><Name name="values"/><True/></Arguments></PrimaryMethodInvocationStatement></Block></EnhancedForStatement></Block></EnhancedForStatement></MethodBody></MethodDeclaration></xdd:insert><xdd:insert xdd:stid="7" xdd:path="2/0/1/5/3/32_1"><IfStatement><Negation><PrimaryMethodInvocation name="isEmpty"><PrimaryMethodInvocation name="getExtendedMetadata"><Name name="event"/><Arguments/></PrimaryMethodInvocation><Arguments/></PrimaryMethodInvocation></Negation><Block><SimpleMethodInvocationStatement name="addExtendedMetadata"><Arguments><Name name="metadata"/><PrimaryMethodInvocation name="getExtendedMetadata"><Name name="event"/><Arguments/></PrimaryMethodInvocation></Arguments></SimpleMethodInvocationStatement></Block></IfStatement></xdd:insert><xdd:insert xdd:stid="8" xdd:path="1/13_1"><SingleTypeImportDeclaration name="org.opencastproject.metadata.dublincore.DublinCoreCatalog"/></xdd:insert><xdd:insert xdd:stid="9" xdd:path="1/9_1"><SingleTypeImportDeclaration name="org.opencastproject.mediapackage.MediaPackageElementFlavor"/></xdd:insert><xdd:insert xdd:stid="10" xdd:path="1/8_1"><SingleTypeImportDeclaration name="org.opencastproject.mediapackage.EName"/></xdd:insert><xdd:insert xdd:stid="11" xdd:path="1/5_1"><SingleTypeImportDeclaration name="org.opencastproject.elasticsearch.index.objects.series.SeriesIndexSchema"/></xdd:insert><xdd:move xdd:mid="4" xdd:path_from="2/0/1/8/3/0/1/0/0/0/1" xdd:path_to="2/0/1/8_1/3/0/0/0/0_1" xdd:parent="3" xdd:depth="5"/><xdd:delete xdd:path="2/0/1/8/3/0/1/0/0/0/0"></xdd:delete><xdd:delete xdd:path="2/0/1/8/3/1/2/0/1/1/0/0/0"></xdd:delete><xdd:delete xdd:path="2/0/1/8/3/3/2/2/1/0/1/0/0/0"></xdd:delete></xdd:delta>