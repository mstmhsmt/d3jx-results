// generated by Diff/AST Java Unparser
package backtype.storm.messaging.netty;
import org.jboss.netty.buffer.ChannelBuffer;
import org.jboss.netty.buffer.ChannelBufferOutputStream;
import org.jboss.netty.buffer.ChannelBuffers;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
public class SaslMessageToken {
  private static final Logger LOG =
      LoggerFactory.getLogger(SaslMessageToken.class);
  private byte[] token;
  public SaslMessageToken() {}
  public SaslMessageToken(byte[] token) { this.token = token; }
  public byte[] getSaslToken() { return token; }
  public void setSaslToken(byte[] token) { this.token = token; }
  int encodeLength() { return 2 + 4 + token.length; }
  ChannelBuffer buffer() throws Exception {
    ChannelBufferOutputStream bout = new ChannelBufferOutputStream(
        ChannelBuffers.directBuffer(encodeLength()));
    short identifier = -500;
    int payload_len = 0;
    if (token != null)
      payload_len = token.length;
    bout.writeShort((short)identifier);
    bout.writeInt((int)payload_len);
    if (payload_len > 0) {
      bout.write(token);
    }
    bout.close();
    return bout.buffer();
  }
}