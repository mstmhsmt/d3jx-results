<xdd:delta xmlns:xdd="http://codinuum.com/diffts/delta/" xdd:reversible="false" xdd:normalized="false" xdd:lang="java" xdd:digest="MD5_68ff1b477b458eacf828e701fa979e12" xdd:digest_=""><xdd:change xdd:path="2/0/1/9/3/0/0/1/0/1/1/0/1/0/0"><TypeMethodInvocation name="SslContextBuilder" ident="forClient" /></xdd:change><xdd:change xdd:path="2/0/1/9/3/0/0/1/0" xdd:boundary="0;1"><Name name="client" /></xdd:change><xdd:change xdd:path="2/0/1/12/4/4/0/1/0/1/1/0/1/0/0/0"><TypeMethodInvocation name="SslContextBuilder" ident="forClient" /></xdd:change><xdd:change xdd:path="2/0/1/12/4/4/0/1/0" xdd:boundary="0;1"><Name name="client" /></xdd:change><xdd:change xdd:path="2/0/1/17/3/0/0/0/0" xdd:boundary="0;1"><PrimaryMethodInvocation name="wiretap" /></xdd:change><xdd:change_attr xdd:path="2/0/1/18/2/0/0/0/0/0/0" xdd:attr="name" xdd:new_value="HttpClient" /><xdd:change_attr xdd:path="2/0/1/18/2/0" xdd:attr="name" xdd:new_value="client" /><xdd:change_attr xdd:path="2/0/1/18/3/2/0/0/1/0/1/0" xdd:attr="name" xdd:new_value="client" /><xdd:change xdd:path="2/0/1/21/3/2/1/0"><TypeMethodInvocation name="DataSize" ident="ofBytes" /></xdd:change><xdd:change_attr xdd:path="2/0/1/25/3/4/0/0/0/0/0/0" xdd:attr="name" xdd:new_value="tcpClient" /><xdd:change_attr xdd:path="2/0/1/25/3/4/0/0/0/0/1/0/0" xdd:attr="name" xdd:new_value="tcpClient" /><xdd:change_attr xdd:path="2/0/1/25/3/4/0/0/0/0/1/1/0/0/0" xdd:attr="name" xdd:new_value="connection" /><xdd:change_attr xdd:path="2/0/1/25/3/4/0/0/0/0/1/1/0/1/0/0" xdd:attr="name" xdd:new_value="connection" /><xdd:change_attr xdd:path="2/0/1/25/3/4/0/0/0/0/1" xdd:attr="name" xdd:new_value="doOnConnected" /><xdd:insert xdd:stid="13" xdd:path="2/0/1/30_1"><ClassDeclaration name="XForwardedHandler"><ClassSpecifier name="XForwardedHandler"><Modifiers><Protected /><Static /></Modifiers><Implements><ReferenceType name="HttpHandler" /></Implements></ClassSpecifier><ClassBody name="XForwardedHandler"><MethodDeclaration name="handle" ___signature="(LServerHttpRequest;LServerHttpResponse;)LMono;"><Modifiers><MarkerAnnotation name="Override" /><Public /></Modifiers><ReferenceType name="Mono"><TypeArguments nth="1" name="reactor.core.publisher.Mono"><ReferenceType name="Void" /></TypeArguments></ReferenceType><Parameters name="(LServerHttpRequest;LServerHttpResponse;)LMono;"><Parameter name="request" dims="0" va="false"><ReferenceType name="ServerHttpRequest" /></Parameter><Parameter name="response" dims="0" va="false"><ReferenceType name="ServerHttpResponse" /></Parameter></Parameters><MethodBody><LocalVariableDeclarationStatement name="scheme[0"><ReferenceType name="String" /><VariableDeclarator name="scheme" dims="0"><PrimaryMethodInvocation name="getScheme"><PrimaryMethodInvocation name="getURI"><Name name="request" /><Arguments /></PrimaryMethodInvocation><Arguments /></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><LocalVariableDeclarationStatement name="bufferFactory[0"><ReferenceType name="DataBufferFactory" /><VariableDeclarator name="bufferFactory" dims="0"><StandardInstanceCreation name="DefaultDataBufferFactory"><ReferenceType name="DefaultDataBufferFactory" /><Arguments /></StandardInstanceCreation></VariableDeclarator></LocalVariableDeclarationStatement><LocalVariableDeclarationStatement name="buffer[0"><ReferenceType name="DataBuffer" /><VariableDeclarator name="buffer" dims="0"><PrimaryMethodInvocation name="wrap"><Name name="bufferFactory" /><Arguments><PrimaryMethodInvocation name="getBytes"><Name name="scheme" /><Arguments><Name name="StandardCharsets.UTF_8"><Name name="StandardCharsets" /></Name></Arguments></PrimaryMethodInvocation></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><ReturnStatement><PrimaryMethodInvocation name="writeWith"><Name name="response" /><Arguments><TypeMethodInvocation name="Mono" ident="just"><ClassType name="Mono" /><Arguments><Name name="buffer" /></Arguments></TypeMethodInvocation></Arguments></PrimaryMethodInvocation></ReturnStatement></MethodBody></MethodDeclaration></ClassBody></ClassDeclaration></xdd:insert><xdd:insert xdd:stid="14" xdd:path="2/0/1/27_1"><MethodDeclaration name="assertForwardHeaderIsUsed" ___signature="(LAbstractReactiveWebServerFactory;)V"><Modifiers><Protected /></Modifiers><Void /><Parameters name="(LAbstractReactiveWebServerFactory;)V"><Parameter name="factory" dims="0" va="false"><ReferenceType name="AbstractReactiveWebServerFactory" /></Parameter></Parameters><MethodBody><AssignStatement tid=""><FieldAccess name="webServer"><This /></FieldAccess><PrimaryMethodInvocation name="getWebServer"><Name name="factory" /><Arguments><StandardInstanceCreation name="XForwardedHandler"><ReferenceType name="XForwardedHandler" /><Arguments /></StandardInstanceCreation></Arguments></PrimaryMethodInvocation></AssignStatement><PrimaryMethodInvocationStatement name="start"><FieldAccess name="webServer"><This /></FieldAccess><Arguments /></PrimaryMethodInvocationStatement><LocalVariableDeclarationStatement name="body[0"><ReferenceType name="String" /><VariableDeclarator name="body" dims="0"><PrimaryMethodInvocation name="block"><PrimaryMethodInvocation name="bodyToMono"><PrimaryMethodInvocation name="retrieve"><PrimaryMethodInvocation name="header"><PrimaryMethodInvocation name="get"><PrimaryMethodInvocation name="build"><SimpleMethodInvocation name="getWebClient"><Arguments /></SimpleMethodInvocation><Arguments /></PrimaryMethodInvocation><Arguments /></PrimaryMethodInvocation><Arguments><StringLiteral value="WC1Gb3J3YXJkZWQtUHJvdG8=" /><StringLiteral value="aHR0cHM=" /></Arguments></PrimaryMethodInvocation><Arguments /></PrimaryMethodInvocation><Arguments><ClassLiteral name="String"><ReferenceType name="String" /></ClassLiteral></Arguments></PrimaryMethodInvocation><Arguments><TypeMethodInvocation name="Duration" ident="ofSeconds"><ClassType name="Duration" /><Arguments><IntegerLiteral value="30" /></Arguments></TypeMethodInvocation></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><PrimaryMethodInvocationStatement name="isEqualTo"><SimpleMethodInvocation name="assertThat"><Arguments><Name name="body" /></Arguments></SimpleMethodInvocation><Arguments><StringLiteral value="aHR0cHM=" /></Arguments></PrimaryMethodInvocationStatement></MethodBody></MethodDeclaration></xdd:insert><xdd:insert xdd:stid="17" xdd:path="2/0/1/25/3/4/0/0/0_1/0" xdd:parent="m8" xdd:depth="1"><Name name="client" /></xdd:insert><xdd:insert xdd:stid="18" xdd:path="2/0/1/25/3/3_1"><LocalVariableDeclarationStatement name="client[0"><ReferenceType name="HttpClient" /><VariableDeclarator name="client" dims="0"><PrimaryMethodInvocation name="tcpConfiguration"><PrimaryMethodInvocation name="compress"><PrimaryMethodInvocation name="wiretap"><TypeMethodInvocation name="HttpClient" ident="create"><ClassType name="HttpClient" /><Arguments /></TypeMethodInvocation><Arguments><True /></Arguments></PrimaryMethodInvocation><Arguments><True /></Arguments></PrimaryMethodInvocation><Arguments /></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement></xdd:insert><xdd:insert xdd:stid="21" xdd:path="2/0/1/25/3/3_1/1/0/1/0/1/0/0/1/0/0_-1" xdd:parent="m49" xdd:depth="6"><PrimaryMethodInvocation name="channel"><Arguments /></PrimaryMethodInvocation></xdd:insert><xdd:insert xdd:stid="26" xdd:path="2/0/1/23_1"><MethodDeclaration name="whenSslIsEnabledAndNoKeyStoreIsConfiguredThenServerFailsToStart" ___signature="()V"><Modifiers><MarkerAnnotation name="Test" /><Public /></Modifiers><Void /><Parameters name="()V" /><MethodBody><PrimaryMethodInvocationStatement name="hasMessageContaining"><SimpleMethodInvocation name="assertThatThrownBy"><Arguments><Lambda><Parameters name="" /><SimpleMethodInvocation name="testBasicSslWithKeyStore"><Arguments><NullLiteral /><NullLiteral /></Arguments></SimpleMethodInvocation></Lambda></Arguments></SimpleMethodInvocation><Arguments><StringLiteral value="Q291bGQgbm90IGxvYWQga2V5IHN0b3JlICdudWxsJw==" /></Arguments></PrimaryMethodInvocationStatement></MethodBody></MethodDeclaration></xdd:insert><xdd:insert xdd:stid="27" xdd:path="2/0/1/21/3/2/1/0/0_1"><Arguments><IntegerLiteral value="3001" /></Arguments></xdd:insert><xdd:insert xdd:stid="28" xdd:path="2/0/1/21/3/2/1/0/0"><ClassType name="DataSize" /></xdd:insert><xdd:insert xdd:stid="29" xdd:path="2/0/1/17/3/0/0/0/0/0_3"><Arguments><True /></Arguments></xdd:insert><xdd:insert xdd:stid="30" xdd:path="2/0/1/17/3/0/0/0/0/0_2"><TypeMethodInvocation name="HttpClient" ident="create"><ClassType name="HttpClient" /><Arguments /></TypeMethodInvocation></xdd:insert><xdd:insert xdd:stid="31" xdd:path="2/0/1/12/4/3_2"><LocalVariableDeclarationStatement name="client[0"><ReferenceType name="HttpClient" /><VariableDeclarator name="client" dims="0"><PrimaryMethodInvocation name="secure"><PrimaryMethodInvocation name="wiretap"><TypeMethodInvocation name="HttpClient" ident="create"><ClassType name="HttpClient" /><Arguments /></TypeMethodInvocation><Arguments><True /></Arguments></PrimaryMethodInvocation><Arguments><Lambda><InferredFormalParameters><InferredFormalParameter name="sslContextSpec" /></InferredFormalParameters><PrimaryMethodInvocation name="sslContext"><Name name="sslContextSpec" /><Arguments><Name name="builder" /></Arguments></PrimaryMethodInvocation></Lambda></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement></xdd:insert><xdd:insert xdd:stid="32" xdd:path="2/0/1/12/4/3_1"><LocalVariableDeclarationStatement name="builder[0"><ReferenceType name="SslContextBuilder" /><VariableDeclarator name="builder" dims="0" /></LocalVariableDeclarationStatement></xdd:insert><xdd:insert xdd:stid="35" xdd:path="2/0/1/12/4/3_1/1/0/0/0/0/0_1" xdd:parent="m20" xdd:depth="4"><Arguments /></xdd:insert><xdd:insert xdd:stid="36" xdd:path="2/0/1/12/4/3_1/1/0/0/0/0/0_-1" xdd:parent="m20" xdd:depth="4"><ClassType name="SslContextBuilder" /></xdd:insert><xdd:insert xdd:stid="37" xdd:path="2/0/1/9/3/0_-1"><LocalVariableDeclarationStatement name="client[0"><ReferenceType name="HttpClient" /><VariableDeclarator name="client" dims="0"><PrimaryMethodInvocation name="secure"><PrimaryMethodInvocation name="wiretap"><TypeMethodInvocation name="HttpClient" ident="create"><ClassType name="HttpClient" /><Arguments /></TypeMethodInvocation><Arguments><True /></Arguments></PrimaryMethodInvocation><Arguments><Lambda><InferredFormalParameters><InferredFormalParameter name="sslContextSpec" /></InferredFormalParameters><PrimaryMethodInvocation name="sslContext"><Name name="sslContextSpec" /><Arguments><Name name="builder" /></Arguments></PrimaryMethodInvocation></Lambda></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement></xdd:insert><xdd:insert xdd:stid="38" xdd:path="2/0/1/9/3/0_-2"><LocalVariableDeclarationStatement name="builder[0"><ReferenceType name="SslContextBuilder" /><VariableDeclarator name="builder" dims="0" /></LocalVariableDeclarationStatement></xdd:insert><xdd:insert xdd:stid="41" xdd:path="2/0/1/9/3/0_-2/1/0/0/0/0_1" xdd:parent="m29" xdd:depth="3"><Arguments /></xdd:insert><xdd:insert xdd:stid="42" xdd:path="2/0/1/9/3/0_-2/1/0/0/0/0_-1" xdd:parent="m29" xdd:depth="3"><ClassType name="SslContextBuilder" /></xdd:insert><xdd:insert xdd:stid="43" xdd:path="1/40_1"><SingleStaticImportDeclaration name="org.assertj.core.api.Assertions" ident="assertThatThrownBy" /></xdd:insert><xdd:insert xdd:stid="44" xdd:path="1/37_1"><SingleTypeImportDeclaration name="org.springframework.util.unit.DataSize" /></xdd:insert><xdd:insert xdd:stid="45" xdd:path="1/28_1"><SingleTypeImportDeclaration name="org.springframework.core.io.buffer.DataBufferFactory" /></xdd:insert><xdd:insert xdd:stid="46" xdd:path="1/20_2"><SingleTypeImportDeclaration name="reactor.netty.http.client.HttpClient" /></xdd:insert><xdd:insert xdd:stid="47" xdd:path="1/20_1"><SingleTypeImportDeclaration name="reactor.netty.NettyPipeline" /></xdd:insert><xdd:insert xdd:stid="48" xdd:path="1/13_1"><SingleTypeImportDeclaration name="io.netty.handler.ssl.SslContextBuilder" /></xdd:insert><xdd:move xdd:mid="29" xdd:mctl="F" xdd:path_from="2/0/1/9/3/0/0/1/0/1/1/0/1" xdd:path_to="2/0/1/9/3/0_-2/1/0" xdd:parent="38" xdd:depth="2" /><xdd:move xdd:mid="20" xdd:mctl="F" xdd:path_from="2/0/1/12/4/4/0/1/0/1/1/0/1" xdd:path_to="2/0/1/12/4/3_1/1/0" xdd:parent="32" xdd:depth="2" /><xdd:move xdd:mid="30" xdd:mctl="F" xdd:path_from="2/0/1/25/3/4/0/0/0/0/1/0/0" xdd:path_to="2/0/1/25/3/3_1/1/0/1/0/1/0_-1" xdd:parent="m49" xdd:depth="2" /><xdd:move xdd:mid="31" xdd:mctl="F" xdd:path_from="2/0/1/25/3/4/0/0/0/0/1/1/0/1/0/0" xdd:path_to="2/0/1/25/3/3_1/1/0/1/0/1/0/0/1/0/0/0_-1" xdd:parent="21" xdd:depth="1" /><xdd:move xdd:mid="49" xdd:mctl="F" xdd:path_from="2/0/1/25/3/4/0/0/0/0" xdd:path_to="2/0/1/25/3/3_1/1/0/1/0" xdd:parent="18" xdd:depth="4" xdd:boundary_from="1/0;1/1/0/1/0/0" /><xdd:move xdd:mid="8" xdd:path_from="2/0/1/25/3/4/0/0/0" xdd:path_to="2/0/1/25/3/4/0/0/0_1" xdd:boundary_from="0" /><xdd:delete xdd:path="1/7" /><xdd:delete xdd:path="1/19" /><xdd:delete xdd:path="1/21" /><xdd:delete xdd:path="1/22" /><xdd:delete xdd:path="2/0/1/0" /><xdd:delete xdd:path="2/0/1/9/3/0/0/1/0/0" /><xdd:delete xdd:path="2/0/1/9/3/0/0/1/0/1" xdd:boundary="1/0/1" /><xdd:delete xdd:path="2/0/1/12/4/4/0/1/0/0" /><xdd:delete xdd:path="2/0/1/12/4/4/0/1/0/1" xdd:boundary="1/0/1" /><xdd:delete xdd:path="2/0/1/17/3/0/0/0/0/0" /><xdd:delete xdd:path="2/0/1/17/3/0/0/0/0/1" /><xdd:delete xdd:path="2/0/1/18/2/0/0" xdd:boundary="0/0/0/0" /><xdd:delete xdd:path="2/0/1/25/3/4/0/0/0/0/1/0" xdd:boundary="0" /><xdd:insert xdd:stid="49" xdd:path="2/0/1/12/4/4_1"><ThrowStatement><StandardInstanceCreation name="IllegalStateException"><ReferenceType name="IllegalStateException" /><Arguments><StringLiteral value="S2V5IHdpdGggYWxpYXMgJ3NwcmluZy1ib290JyBub3QgZm91bmQ=" /></Arguments></StandardInstanceCreation></ThrowStatement></xdd:insert><xdd:insert xdd:stid="50" xdd:path="2/0/1/12/4/4" xdd:boundary="2/0/1/2/1/0_1"><EnhancedForStatement><LocalVariableDeclaration name="keyManager[0"><ReferenceType name="KeyManager" /><VariableDeclarator name="keyManager" dims="0" /></LocalVariableDeclaration><PrimaryMethodInvocation name="getKeyManagers"><Arguments /></PrimaryMethodInvocation><Block><IfStatement><Instanceof><Name name="keyManager" /><ReferenceType name="X509KeyManager" /></Instanceof><Block><LocalVariableDeclarationStatement name="x509KeyManager[0"><ReferenceType name="X509KeyManager" /><VariableDeclarator name="x509KeyManager" dims="0"><Cast><ReferenceType name="X509KeyManager" /><Name name="keyManager" /></Cast></VariableDeclarator></LocalVariableDeclarationStatement><LocalVariableDeclarationStatement name="privateKey[0"><ReferenceType name="PrivateKey" /><VariableDeclarator name="privateKey" dims="0"><PrimaryMethodInvocation name="getPrivateKey"><Name name="x509KeyManager" /><Arguments><StringLiteral value="c3ByaW5nLWJvb3Q=" /></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement><IfStatement><NotEq><Name name="privateKey" /><NullLiteral /></NotEq><Block><LocalVariableDeclarationStatement name="certificateChain[0"><ReferenceType name="X509Certificate" dimensions="1" /><VariableDeclarator name="certificateChain" dims="0"><PrimaryMethodInvocation name="getCertificateChain"><Name name="x509KeyManager" /><Arguments><StringLiteral value="c3ByaW5nLWJvb3Q=" /></Arguments></PrimaryMethodInvocation></VariableDeclarator></LocalVariableDeclarationStatement></Block></IfStatement></Block></IfStatement></Block></EnhancedForStatement></xdd:insert><xdd:insert xdd:stid="51" xdd:path="2/0/1/12/4/3/1/0/1/0_2" xdd:depth="2" xdd:parent="m20"><Name name="certificateChain" /></xdd:insert><xdd:insert xdd:stid="52" xdd:path="2/0/1/12/4/3/1/0/1/0_1" xdd:depth="2" xdd:parent="m20"><Name name="privateKey" /></xdd:insert><xdd:insert xdd:stid="55" xdd:path="1/9_1"><SingleTypeImportDeclaration name="javax.net.ssl.X509KeyManager" /></xdd:insert><xdd:insert xdd:stid="56" xdd:path="1/7_1"><SingleTypeImportDeclaration name="javax.net.ssl.KeyManager" /></xdd:insert><xdd:insert xdd:stid="57" xdd:path="1/4_2"><SingleTypeImportDeclaration name="java.security.cert.X509Certificate" /></xdd:insert><xdd:insert xdd:stid="58" xdd:path="1/4_1"><SingleTypeImportDeclaration name="java.security.PrivateKey" /></xdd:insert><xdd:move xdd:mid="51" xdd:path_from="2/0/1/12/4/4/0/1/0/1/1/0/1/1/0" xdd:path_to="2/0/1/12/4/3_1/1/0_-1" xdd:parent="50" xdd:depth="2" /></xdd:delta>