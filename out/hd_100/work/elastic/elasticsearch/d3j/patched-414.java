// generated by Diff/AST Java Unparser
package org.elasticsearch.ingest.common;
import org.elasticsearch.ElasticsearchParseException;
import org.elasticsearch.test.ESTestCase;
import java.util.HashMap;
import java.util.Map;
import static org.hamcrest.CoreMatchers.equalTo;
public class TrimProcessorFactoryTests extends ESTestCase {
  public void testCreate() throws Exception {
    TrimProcessor.Factory factory = new TrimProcessor.Factory();
    Map<String, Object> config = new HashMap<>();
    config.put("field", "field1");
    String processorTag = randomAsciiOfLength(10);
<<<<<<< /root/work/elastic/elasticsearch/d3j/patched-414-0.java
    TrimProcessor uppercaseProcessor =
        (TrimProcessor)factory.create(null, config);
||||||| /root/work/elastic/elasticsearch/d3j/base-414.java
    config.put(AbstractProcessorFactory.TAG_KEY, processorTag);
    TrimProcessor uppercaseProcessor = factory.create(config);
=======
    TrimProcessor uppercaseProcessor =
        (TrimProcessor)factory.create(processorTag, config);
>>>>>>> /root/work/elastic/elasticsearch/d3j/patched-414-1.java
    assertThat(uppercaseProcessor.getTag(), equalTo(processorTag));
    assertThat(uppercaseProcessor.getField(), equalTo("field1"));
  }
  public void testCreateMissingField() throws Exception {
    TrimProcessor.Factory factory = new TrimProcessor.Factory();
    Map<String, Object> config = new HashMap<>();
    try {
      factory.create(null, config);
      fail("factory create should have failed");
    } catch (ElasticsearchParseException e) {
      assertThat(e.getMessage(),
                 equalTo("[field] required property is missing"));
    }
  }
}